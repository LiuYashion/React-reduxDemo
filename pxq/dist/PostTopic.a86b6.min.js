webpackJsonp([3],{277:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},c=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),u=a(8),p=n(u),d=a(70),f=(n(d),a(49),a(41),a(55),a(82)),h=function(t){function e(t,a){return s(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a))}return l(e,t),c(e,[{key:"render",value:function(){return p.default.createElement("div",{className:"loading-shadow"},p.default.createElement("div",{className:"loading-wrap"},p.default.createElement("div",{className:"loading-1"}),p.default.createElement("div",{className:"loading-2"})))}}]),e}(u.Component),m=function(t){function e(t,a){return s(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a))}return l(e,t),c(e,[{key:"render",value:function(){return p.default.createElement("div",{className:"loading-shadow dark"},p.default.createElement("div",{className:"dark-tips"},"你的文章已经发布成功,返回看看吧~"))}}]),e}(u.Component),v=function(t){function e(t,a){s(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a));return n.cancleModal=function(){n.props.show("cancle")},n}return l(e,t),c(e,[{key:"render",value:function(){return p.default.createElement("div",{className:"loading-shadow"},p.default.createElement("div",{className:"loading-tips"},p.default.createElement("div",{className:"tips-up"},"种类标题内容不能为空"),p.default.createElement("div",{className:"tips-down",onClick:this.cancleModal},"确定")))}}]),e}(u.Component),b=function(t){function e(t,a){s(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a));return n.state={title:"",content:"",selectTab:"",share:"",ask:"",job:""},n.tabBar=function(t){n.setState(o({selectTab:t,share:"",ask:"",job:""},t,"selected")),n.props.storeTopicDetial(n.state.title,n.state.content,t)},n.inputTitle=function(t){n.props.storeTopicDetial(t.target.value,n.state.content,n.state.selectTab),n.setState({title:t.target.value})},n.inputContent=function(t){n.props.storeTopicDetial(n.state.title,t.target.value,n.state.selectTab),n.setState({content:t.target.value})},n}return l(e,t),c(e,[{key:"render",value:function(){var t=this.state,e=t.title,a=t.content,n=this.props,o=n.showModal,s=n.show,r=n.postStateData,l=p.default.createElement("div",null,p.default.createElement("div",{className:"top-tips"},"为文章选择一个模板种类:"),p.default.createElement("div",{className:"top-bars"},p.default.createElement("div",{onClick:this.tabBar.bind(this,"share"),className:this.state.share},"分享"),p.default.createElement("div",{onClick:this.tabBar.bind(this,"ask"),className:this.state.ask},"问答"),p.default.createElement("div",{onClick:this.tabBar.bind(this,"job"),className:this.state.job},"招聘"))),i=p.default.createElement("div",{className:"post-tips"},"正在发布.."),c=p.default.createElement("div",{className:"post-tips"},"发布成功");return p.default.createElement("div",null,p.default.createElement("div",{className:"topic-top"},"begin"==r.state&&i,"success"==r.state&&c,"none"==r.state&&l),p.default.createElement("div",{className:"topic-body"},p.default.createElement("input",{value:e,onChange:this.inputTitle,className:"input-title",placeholder:"请输入标题"}),p.default.createElement("textarea",{value:a,onChange:this.inputContent,className:"input-content",placeholder:"请输入内容"}),"begin"==r.state?p.default.createElement(h,null):"","success"==r.state?p.default.createElement(m,null):"","alert"==o?p.default.createElement(v,{show:s}):""))}}]),e}(u.Component),g=function(t){function e(t,a){s(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a));return n.postTopic=function(){n.props.postTopicDetial(n.props.topicData.title,n.props.topicData.content,n.props.topicData.tab,n.props.userLogData.data.token,"/api/v1/topics"),""==n.props.topicData.title&&""==n.props.topicData.content?n.props.show("alert"):n.props.show("posting")},n}return l(e,t),c(e,[{key:"render",value:function(){var t=this.props.showModal,e=void 0;return e="posting"==t?p.default.createElement("div",null):p.default.createElement("div",{className:"topic-bottom",onClick:this.postTopic},"提交")}}]),e}(u.Component),E=function(t){function e(t,a){s(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,a));return n.state={showModal:""},n.show=function(t){n.setState({showModal:t})},n}return l(e,t),c(e,[{key:"componentWillReceiveProps",value:function(t){t.userLogData.state=this.props.userLogData.state,this.props.userLogData.data&&(t.userLogData.data=this.props.userLogData.data)}},{key:"componentDidMount",value:function(){}},{key:"componentWillUpdate",value:function(t,e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return p.default.createElement("div",{className:"container"},p.default.createElement(f.HeadNav,{needHeadNav:!0,title:"文章发布"}),p.default.createElement(b,i({},this.props,{showModal:this.state.showModal,show:this.show})),p.default.createElement(g,i({},this.props,{show:this.show,showModal:this.state.showModal})))}}]),e}(u.Component);e.default=(0,f.Container)({id:"saleRecord",component:E})}});